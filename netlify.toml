# Netlify Configuration
# This file configures Netlify build and deployment settings

[build]
  # Nuxt build command is handled automatically by Netlify's Nuxt plugin
  # Command defaults to: npm run build

[functions]
  # Include snowflake-sdk and its dependencies in function bundle
  included_files = ["node_modules/snowflake-sdk/**"]
  
  # Use zisi (default) bundler instead of esbuild
  # zisi better handles CommonJS functions with package.json "type": "commonjs"
  # esbuild was bundling as ES modules despite function's package.json
  # node_bundler = "esbuild"  # Commented out - using default zisi

[functions.employee]
  # Increase timeout for Snowflake connection (max 26s for free tier, 10s default)
  timeout = 26

# Secret Scanning Configuration
# Note: SECRETS_SCAN_ENABLED must be set as an environment variable in
# Netlify's project settings (not in this file).
#
# To disable secret scanning entirely, add this environment variable in Netlify:
#
# SECRETS_SCAN_ENABLED=false
#
# See README.md for detailed instructions.

